{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Сard.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteCardPopup.js","components/Login.js","components/ProtectedRoute.js","components/Register.js","components/InfoTooltip.js","images/error.png","images/successfully.png","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","userEmail","onSignOut","onMenuClick","isMenuClick","loggedIn","userContentClassName","menuClassName","headerClassName","className","exact","path","src","logo","alt","type","onClick","to","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onCardClick","link","name","onCardDeleteClick","onCardLike","length","Main","avatar","onEditAvatar","about","aria-label","onEditProfile","onAddPlace","cards","map","item","Footer","Date","getFullYear","ImagePopup","isOpen","data","onClose","api","options","this","_baseUrl","baseUrl","_headers","headers","res","ok","json","Promise","reject","status","fetch","then","_checkResponse","method","body","JSON","stringify","id","all","getInitialCards","getUserInfo","authorization","PopupWithForm","title","onSubmit","children","btnText","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","onChange","target","value","placeholder","minLength","maxLength","required","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","defaultValue","AddPlacePopup","nameCard","setNameCard","linkCard","setLinkCard","resetForm","DeleteCardPopup","onCardDelete","Login","onLogin","infoTooltip","email","setEmail","password","setPassword","history","useHistory","message","text","image","push","ProtectedRoute","Component","component","Register","onRegister","error","InfoTooltip","BASE_URL","checkResponse","App","setCards","setCurrentUser","getAllNeededData","userData","catch","err","console","log","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isDeleteCardPopupOpen","setIsDeleteCardPopupOpen","isInfoTooltipPopupOpen","setIsInfoTooltipPopupOpen","selectedCard","setSelectedCard","cardId","setCardId","closeAllPopups","closeByEscape","key","document","addEventListener","removeEventListener","setLoggedIn","setUserEmail","authorize","jwt","token","localStorage","getItem","setIsMenuClick","Provider","removeItem","dislike","newCard","state","c","like","dataCard","setItem","auth","avaLink","setUserAvatar","dataUser","setUserInfo","addCard","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.48582cf0.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import { Link } from \"react-router-dom\";\r\nimport { Route } from 'react-router-dom';\r\nimport logo from '../images/logo.svg';\r\nimport '../index.css';\r\n\r\nfunction Header({ userEmail, onSignOut, onMenuClick, isMenuClick, loggedIn }) {\r\n\r\n  // Показать email и кнопку выхода при нажатии на иконку бургера\r\n  const userContentClassName = (\r\n    `header__user-content ${isMenuClick && `header__user-content_active`}`\r\n  );\r\n\r\n  // При нажатии на иконку бургера меняем на иконку закрытия\r\n  const menuClassName = (\r\n    `header__menu ${isMenuClick && `header__menu_close`}`\r\n  );\r\n  \r\n  // в НЕ авторизованном состоянии применяется только класс \"header\" \r\n  // При нажатии на иконку бургера меняем направление флекс-контейнера (поднимаем доп.инфу юзера наверх)\r\n  const headerClassName = (\r\n    `header \r\n    ${isMenuClick && `header_direction_column-reverse`} \r\n    ${loggedIn && !isMenuClick && `header_direction_row`}`\r\n  );\r\n\r\n  return (\r\n    <header className={headerClassName}>\r\n      <Route exact path=\"/\">\r\n        <div className=\"header__container\">\r\n          <img className=\"header__logo\" src={logo} alt=\"логотип\" />\r\n          <button className={menuClassName} type=\"button\" onClick={onMenuClick} />\r\n        </div>\r\n        \r\n        <div className={userContentClassName}>\r\n          <p className=\"header__email\" >{userEmail}</p>\r\n          <button className=\"header__exit\" type=\"button\" onClick={onSignOut}>Выйти</button>\r\n        </div>\r\n      </Route>\r\n      \r\n      <Route path=\"/sign-in\">\r\n          <img className=\"header__logo\" src={logo} alt=\"логотип\" />\r\n          <Link className=\"header__auth\" to=\"/sign-up\">Регистрация</Link>  \r\n      </Route>\r\n\r\n      <Route path=\"/sign-up\">\r\n        <img className=\"header__logo\" src={logo} alt=\"логотип\" />\r\n        <Link className=\"header__auth\" to=\"/sign-in\">Войти</Link>\r\n      </Route>\r\n\r\n      \r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext()","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport '../index.css'\r\n\r\nfunction Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext)\r\n\r\n  // Определить, являемся ли мы владельцем текущей карточки\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = (\r\n    `element__delete ${!isOwn && `element__delete_inactive`}`\r\n  ); \r\n\r\n  // Определить, есть ли у карточки лайк, поставленный текущим пользователем\r\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = (\r\n    `element__like-button ${isLiked && `element__like-button_active`}`\r\n  ); \r\n\r\n  function handleImageClick() {\r\n    props.onCardClick(props.card);\r\n  } \r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card)\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    props.onCardDeleteClick(props.card._id)\r\n  }\r\n\r\n  return (\r\n    <li className=\"element__item\">\r\n      <img className=\"element__image\" onClick={handleImageClick} src={props.card.link} alt={props.card.name} />\r\n      <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteClick}></button>\r\n      <div className=\"element__figure\">\r\n        <h2 className=\"element__name\">{props.card.name}</h2>\r\n        <div className=\"element__like-wrapper\">\r\n          <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick}></button>\r\n          <span className=\"element__like-count\">{props.card.likes.length}</span>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport '../index.css';\r\nimport Card from './Сard.js';\r\n\r\nfunction Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext)\r\n\r\n  return (\r\n    <main className=\"content\">\r\n\r\n      <section className=\"profile\">\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__avatar-wrapper\">\r\n            <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"аватар\"/>\r\n            <button type=\"button\" className=\"profile__avatar-edit-button\" onClick={props.onEditAvatar}></button> \r\n          </div>\r\n          <div className=\"profile__info-edit\">  \r\n            <div className=\"profile__header\">\r\n              <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n              <p className=\"profile__job\">{currentUser.about}</p> \r\n            </div>\r\n            <button className=\"profile__edit-button\" type=\"button\" aria-label=\"Edit\" onClick={props.onEditProfile}></button>\r\n          </div>\r\n        </div>\r\n        <button className=\"profile__add-button\" type=\"button\" aria-label=\"add\" onClick={props.onAddPlace}></button>\r\n      </section>\r\n\r\n      <section className=\"elements\">\r\n        <ul className=\"elements__list\">\r\n          {props.cards.map((item) => {\r\n            return (\r\n              <Card \r\n                key={item._id} \r\n                card={item} \r\n                onCardClick={props.onCardClick} \r\n                onCardLike={props.onCardLike}\r\n                onCardDeleteClick={props.onCardDeleteClick}\r\n              />\r\n            )            \r\n          })}\r\n        </ul>\r\n      </section>\r\n\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__text\">&copy; {new Date().getFullYear()} Mesto Russia</p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer;","function ImagePopup(props) {\r\n  return (\r\n    <section className={`popup popup_type_preview ${props.card.isOpen && `popup_active`}`}>\r\n      <div className=\"popup__preview-container\">\r\n        <img  className=\"popup__image\" src={props.card.data.link} alt={props.card.data.name} />\r\n        <h2 className=\"popup__title-preview\">{props.card.data.name}</h2>\r\n        <button className=\"popup__close\" type=\"button\" aria-label=\"close\" onClick={props.onClose}></button> \r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;","class Api {\r\n  constructor(options) {\r\n    this._baseUrl = options.baseUrl;\r\n    this._headers = options.headers;\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) {\r\n      return res.json()\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`)\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}cards`, {\r\n      headers: this._headers\r\n    }).then(this._checkResponse)\r\n  }\r\n\r\n  addCard(data) {\r\n    return fetch(`${this._baseUrl}cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link\r\n      })\r\n    }).then(this._checkResponse)\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._baseUrl}users/me`, {\r\n      headers: this._headers,\r\n    }).then(this._checkResponse)\r\n  }\r\n\r\n  setUserInfo(data) {\r\n    return fetch(`${this._baseUrl}users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about\r\n      })\r\n    }).then(this._checkResponse)\r\n  }\r\n\r\n  setUserAvatar(data) {\r\n    return fetch(`${this._baseUrl}users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({ avatar: data.avatar })\r\n    }).then(this._checkResponse)\r\n  }\r\n\r\n  deleteCard(id) {\r\n    return fetch(`${this._baseUrl}cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    }).then(this._checkResponse)\r\n  }\r\n\r\n  like(id) {\r\n    return fetch(`${this._baseUrl}cards/likes/${id}`, {\r\n      method: 'PUT',\r\n      headers: this._headers\r\n    })\r\n    .then(this._checkResponse)\r\n  }\r\n\r\n  dislike(id) {\r\n    return fetch(`${this._baseUrl}cards/likes/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers\r\n    })\r\n    .then(this._checkResponse)\r\n  }\r\n\r\n  getAllNeededData() {\r\n    return Promise.all([this.getInitialCards(), this.getUserInfo()])\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-23/',\r\n  headers: {\r\n    authorization: '84fbe532-8273-42b1-9e94-975939efca47',\r\n    'Content-Type': 'application/json'\r\n  }\r\n}); \r\n\r\nexport default api;","function PopupWithForm(props) {\r\n  return (\r\n    <section className={`popup popup_type_${props.name} ${props.isOpen && `popup_active`}`}>\r\n      <div className=\"popup__container\">\r\n        <h2 className=\"popup__title\">{props.title}</h2>\r\n          <form className=\"popup__form\" onSubmit={props.onSubmit} name={`${props.name}`} >\r\n            {props.children}\r\n            <button className={`popup__button ${props.className}`} type=\"submit\" aria-label=\"save\">{props.btnText}</button>\r\n          </form>\r\n          <button className=\"popup__close\" onClick={props.onClose} type=\"button\" aria-label=\"close\" ></button> \r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;","import React, { useState, useEffect } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const [name, setName] = useState('')\r\n  const [description, setDescription] = useState('')\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value)\r\n  }\r\n\r\n  function handleChangeDescription(e) {\r\n    setDescription(e.target.value)\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser, props.isOpen]); \r\n\r\n  return (\r\n    <PopupWithForm \r\n      isOpen={props.isOpen} \r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n      title=\"Редактировать профиль\" \r\n      name=\"edit-profile\" \r\n      btnText=\"Сохранить\">\r\n        <input className=\"input input_type_popup\" onChange={handleChangeName} value={name || ''} type=\"text\" placeholder=\"Имя\" id=\"input_name\" name=\"name_user\" minLength=\"2\" maxLength=\"40\" required />\r\n        <span className=\"popup__error\" id=\"input_name_error\"></span>\r\n        <input className=\"input input_type_popup\" onChange={handleChangeDescription} value={description || ''} type=\"text\" placeholder=\"О себе\" id=\"input_job\" name=\"info\" minLength=\"2\" maxLength=\"200\" required />\r\n        <span className=\"popup__error\" id=\"input_job_error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;","import React, { useRef } from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const avatarRef = useRef()\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n  \r\n    props.onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n  } \r\n  \r\n  return (\r\n    <PopupWithForm \r\n      isOpen={props.isOpen} \r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit} \r\n      title=\"Обновить аватар\" \r\n      name=\"update-avatar\" \r\n      btnText=\"Сохранить\">\r\n        <input ref={avatarRef} className=\"input input_type_popup\" type=\"url\" placeholder=\"Ссылка на картинку\" defaultValue=\"\" id=\"input_link-avatar\" name=\"link_avatar\" required />\r\n        <span className=\"popup__error\" id=\"input_link-avatar_error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;","import React, { useState } from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup({ onAddPlace, isOpen, onClose }) {\r\n  const [nameCard, setNameCard] = useState('')\r\n  const [linkCard, setLinkCard] = useState('')\r\n\r\n  const resetForm = () => {\r\n    setNameCard('');\r\n    setLinkCard('');\r\n  };\r\n\r\n  function handleChangeNameCard(e) {\r\n    setNameCard(e.target.value)\r\n  }\r\n\r\n  function handleChangeLinkCard(e) {\r\n    setLinkCard(e.target.value)\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    onAddPlace({\r\n      name: nameCard,\r\n      link: linkCard\r\n    }).then(resetForm)\r\n    \r\n  }\r\n\r\n  return (\r\n    <PopupWithForm \r\n      isOpen={isOpen} \r\n      onClose={onClose} \r\n      onSubmit={handleSubmit} \r\n      title=\"Новое место\" \r\n      name=\"add-card\" \r\n      btnText=\"Создать\">\r\n        <input className=\"input input_type_popup\" onChange={handleChangeNameCard} type=\"text\" placeholder=\"Название\" value={nameCard} id=\"input_title\" name=\"name\" minLength=\"2\" required />\r\n        <span className=\"popup__error\" id=\"input_title_error\"></span>\r\n        <input className=\"input input_type_popup\" onChange={handleChangeLinkCard} type=\"url\" placeholder=\"Ссылка на картинку\" value={linkCard} id=\"input_link\" name=\"link\" required />\r\n        <span className=\"popup__error\" id=\"input_link_error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;","import PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction DeleteCardPopup({ onCardDelete, ...props }) {\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onCardDelete(); // при отправки формы вызываем функцию удаления карточки\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm \r\n      isOpen={props.isOpen} \r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n      className=\"popup__button_delete\" \r\n      title=\"Вы уверены?\" \r\n      name=\"delete\" \r\n      btnText=\"Да\" \r\n    />\r\n  );\r\n}\r\n\r\nexport default DeleteCardPopup;","import React, { useState } from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nfunction Login({ onLogin, infoTooltip }) {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const history = useHistory();\r\n\r\n  const resetForm = () => {\r\n    setEmail('');\r\n    setPassword('');\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    onLogin({ email, password })\r\n      .then(res => {\r\n        // Если есть ошибка то открываем попап с ошибкой, иначе авторизуемся\r\n        if (res.message) {\r\n          infoTooltip({\r\n            data: {text: res.message, image: 'error'}, \r\n            isOpen: true\r\n          })\r\n        } else {\r\n          history.push('/')\r\n        }\r\n      })\r\n      .then(resetForm)\r\n  };\r\n\r\n  return (\r\n    <section className=\"auth\">\r\n      <div className=\"auth__container\">\r\n        <h2 className=\"auth__title\">Вход</h2>\r\n        <form className=\"auth__form\" onSubmit={handleSubmit}>\r\n          <input \r\n            className=\"input input_type_auth\" \r\n            type=\"email\" \r\n            placeholder=\"Email\"\r\n            value={email}\r\n            onChange={e => setEmail(e.target.value)}\r\n          />\r\n          <span></span>\r\n          <input \r\n            className=\"input input_type_auth\" \r\n            type=\"password\" \r\n            placeholder=\"Пароль\"\r\n            value={password}\r\n            onChange={e => setPassword(e.target.value)}\r\n          />\r\n          <span></span>\r\n          <button className=\"auth__button\">Войти</button>\r\n        </form>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Login;","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() => \r\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute; ","import React, { useState } from 'react';\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\nfunction Register({ onRegister, infoTooltip }) {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const history = useHistory();\r\n  \r\n  const resetForm = () => {\r\n    setEmail('');\r\n    setPassword('');\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    onRegister({ email, password })\r\n      .then(res => {\r\n        if (!res.error) {\r\n          infoTooltip({ \r\n            data: { text: 'Вы успешно зарегистрировались!', image: 'successfully' }, \r\n            isOpen: true\r\n          })\r\n          history.push('/sign-in')\r\n        } else {\r\n          infoTooltip({\r\n            data: { text: res.error, image: 'error'}, \r\n            isOpen: true\r\n          })\r\n        }\r\n      })\r\n      .then(resetForm)\r\n  };\r\n\r\n  return (\r\n    <section className=\"auth\">\r\n      <div className=\"auth__container\">\r\n        <h2 className=\"auth__title\">Регистрация</h2>\r\n        <form className=\"auth__form\" onSubmit={handleSubmit}>\r\n          <input \r\n            className=\"input input_type_auth\" \r\n            type=\"email\" \r\n            placeholder=\"Email\"\r\n            value={email}\r\n            onChange={e => setEmail(e.target.value)}\r\n            />\r\n          <span></span>\r\n          <input \r\n            className=\"input input_type_auth\" \r\n            type=\"password\" \r\n            placeholder=\"Пароль\"\r\n            value={password}\r\n            onChange={e => setPassword(e.target.value)}\r\n          />\r\n          <span></span>\r\n          <button className=\"auth__button\" type=\"submit\">Зарегистрироваться</button>\r\n        </form>\r\n          <p className=\"auth__caption\">Уже зарегистрированы? <Link className=\"auth__link\" to=\"/sign-in\">Войти</Link></p>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Register;","import successfully from '../images/successfully.png';\r\nimport error from '../images/error.png';\r\n\r\nfunction InfoTooltip({ isOpen, onClose }) {\r\n  return (\r\n    <section className={`popup popup_type_info-tooltip ${isOpen.isOpen && `popup_active`}`}>\r\n      <div className=\"popup__container popup__container_padding\">\r\n        <button className=\"popup__close\" onClick={onClose} type=\"button\" aria-label=\"close\"></button>\r\n        <img className=\"popup__image-tooltip\" src={isOpen.data.image === 'error' ? error : successfully} alt={isOpen.data.image} />\r\n        <h2 className=\"popup__title popup__title_center\">{isOpen.data.text}</h2>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nconst checkResponse = (res) => {\r\n  // для ошибок 400 или 401 тоже возвращаем json для показа попапа с ошибкой \r\n  if (res.ok || (res.status === 400 || 401)) {\r\n    return res.json()\r\n  } \r\n  return Promise.reject(`Ошибка: ${res.status}`)\r\n}\r\n\r\nexport const register = (email, password) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({email, password})\r\n  })\r\n  .then(checkResponse)\r\n  .then(res => res)\r\n};\r\n\r\nexport const authorize = (email, password) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ email, password })\r\n  })\r\n  .then(checkResponse)\r\n  .then((data) => { \r\n    if (data){\r\n      localStorage.setItem('jwt', data.jwt);\r\n      return data;\r\n    } else {\r\n      return;\r\n    }\r\n  })\r\n  .catch(err => console.log(err))\r\n};\r\n\r\nexport const getContent = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`,\r\n    }\r\n  })\r\n  .then(checkResponse)\r\n  .then(data => data)\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport ImagePopup from './ImagePopup';\r\nimport api from '../utils/api';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport DeleteCardPopup from './DeleteCardPopup';\r\nimport Login from './Login';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport Register from './Register';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport * as auth from '../utils/auth';\r\nimport '../index.css';\r\n\r\nfunction App() {\r\n  const [cards, setCards] = useState([])\r\n\r\n  const [currentUser, setCurrentUser] = useState({})\r\n\r\n  function handleRequestAllData() {\r\n    api.getAllNeededData() // возвращает результат исполнения нужных промисов (карточки и информации пользователя)\r\n      .then(([cards, userData]) => {\r\n        setCurrentUser(userData)\r\n        setCards(cards)\r\n      })\r\n      .catch((err) => console.log(err))\r\n  }\r\n\r\n  useEffect(() => {\r\n    handleRequestAllData()\r\n  }, [])\r\n\r\n  function handleCardLike(card) {\r\n    // Проверяем, есть ли уже лайк на этой карточке\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n    if (!isLiked) {\r\n      api.like(card._id)\r\n        .then((newCard) => {\r\n          setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n        })\r\n        .catch(err => console.log(err));\r\n    } else {\r\n      api.dislike(card._id)\r\n        .then((newCard) => {\r\n          setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n        })\r\n        .catch(err => console.log(err));\r\n    }\r\n  } \r\n\r\n  function handleUpdateUser(dataUser) {\r\n    api.setUserInfo(dataUser)\r\n      .then((res) => {\r\n        setCurrentUser(res)\r\n        closeAllPopups()\r\n      })\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\n  function handleUpdateAvatar(avaLink) {\r\n    api.setUserAvatar(avaLink)\r\n      .then((res) => {\r\n        setCurrentUser(res)\r\n        closeAllPopups()\r\n      })\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\n  function handleAddPlaceSubmit(dataCard) {\r\n    return api.addCard(dataCard)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards])\r\n        closeAllPopups()\r\n      })\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\n  // Стейты открытия попапов\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isDeleteCardPopupOpen, setIsDeleteCardPopupOpen] = useState(false);\r\n  // Стейт попапа регистрации\r\n  const [isInfoTooltipPopupOpen, setIsInfoTooltipPopupOpen] = useState({ data: {}, isOpen: false });\r\n  // Стейт попапа с картинкой\r\n  const [selectedCard, setSelectedCard] = useState({ data: {}, isOpen: false })\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true)\r\n  }\r\n  \r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true)\r\n  }\r\n  \r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true)\r\n  }\r\n\r\n  function handleCardClick(dataCard) {\r\n    setSelectedCard({ data: dataCard, isOpen: true})\r\n  }\r\n  \r\n  const [cardId, setCardId] = useState('')\r\n  // Открыть попап удаления карточки и обновить стейт id карточки, которая передается при клике на иконку удаления\r\n  function handleDeleteCardClick(cardId) {\r\n    setIsDeleteCardPopupOpen(true)\r\n    setCardId(cardId) \r\n  }\r\n\r\n  function handleCardDelete() {\r\n    api.deleteCard(cardId)\r\n      .then(() => {\r\n        setCards(state => state.filter((card) => card._id !== cardId))\r\n        closeAllPopups()\r\n      })\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditAvatarPopupOpen(false)\r\n    setIsEditProfilePopupOpen(false)\r\n    setIsAddPlacePopupOpen(false)\r\n    setIsDeleteCardPopupOpen(false)\r\n\r\n    setIsInfoTooltipPopupOpen({ data: {}, isOpen: false })\r\n\r\n    setSelectedCard({ data: {}, isOpen: false })\r\n  }\r\n\r\n  useEffect(() => {\r\n    const closeByEscape = (e) => {\r\n      if (e.key === 'Escape') {\r\n        closeAllPopups();\r\n      }\r\n    }\r\n\r\n    document.addEventListener('keydown', closeByEscape)\r\n    \r\n    return () => document.removeEventListener('keydown', closeByEscape)\r\n  }, [])\r\n\r\n  // Стейт авторизации пользователя\r\n  const [loggedIn, setLoggedIn] = useState(false)\r\n  const [userEmail, setUserEmail] = useState('')\r\n\r\n  const history = useHistory();\r\n\r\n  const authorize = (jwt) => {\r\n    return auth.getContent(jwt)\r\n      .then((res) => {\r\n        if (res.data) {\r\n          setLoggedIn(true);\r\n          setUserEmail(res.data.email);\r\n\r\n          history.push('/')\r\n        }\r\n      })\r\n      .catch(err => console.log(err));\r\n  };\r\n\r\n  useEffect(() => {\r\n    const jwt = localStorage.getItem('jwt');\r\n    if (jwt) {\r\n      authorize(jwt);\r\n    }\r\n  }, []);\r\n  \r\n  const onLogin = ({ email, password }) => {\r\n    return auth.authorize(email, password)\r\n      .then((res) => {\r\n        // Если токен валидный, то сохраняем его в localStorage, вызываем ф-ю authorize для получения email и выполняем вход\r\n        if (res.token) {\r\n          localStorage.setItem('jwt', res.token);\r\n          authorize(res.token)\r\n          setLoggedIn(true);\r\n\r\n          history.push('/')\r\n\r\n          return res\r\n        } else {\r\n          return res\r\n        }\r\n      })\r\n      .catch(err => console.log(err));\r\n  };\r\n\r\n  const onRegister = ({ email, password }) => {\r\n    return auth.register(email, password)\r\n      .then(res => res)\r\n      .catch(err => console.log(err));\r\n  };\r\n\r\n  // при нажатии на \"выйти\" удаляем токен из localStorage\r\n  function onSignOut() {\r\n    localStorage.removeItem('jwt')\r\n\r\n    setLoggedIn(false)\r\n    setUserEmail('')\r\n    setIsMenuClick(false)\r\n\r\n    history.push('/sign-in')\r\n  }\r\n\r\n  const [isMenuClick, setIsMenuClick] = useState(false)\r\n\r\n  function onMenuClick() {\r\n    !isMenuClick ? setIsMenuClick(true) : setIsMenuClick(false)\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n\r\n        <Header \r\n          userEmail={userEmail} \r\n          onSignOut={onSignOut} \r\n          onMenuClick={onMenuClick} \r\n          isMenuClick={isMenuClick} \r\n          loggedIn={loggedIn}\r\n        />\r\n        \r\n        <Switch>\r\n          <ProtectedRoute \r\n            cards={cards}\r\n            exact path=\"/\"\r\n            component={Main}\r\n            loggedIn={loggedIn}\r\n            onCardLike={handleCardLike}\r\n            onCardClick={handleCardClick}\r\n            onAddPlace={handleAddPlaceClick} \r\n            onEditAvatar={handleEditAvatarClick} \r\n            onEditProfile={handleEditProfileClick} \r\n            onCardDeleteClick={handleDeleteCardClick} \r\n          />\r\n\r\n          <Route path=\"/sign-in\">\r\n            <Login onLogin={onLogin} infoTooltip={setIsInfoTooltipPopupOpen} />\r\n          </Route>\r\n\r\n          <Route path=\"/sign-up\">\r\n            <Register onRegister={onRegister} infoTooltip={setIsInfoTooltipPopupOpen}/>\r\n          </Route>\r\n\r\n          <Route>\r\n            {loggedIn ? (\r\n              <Redirect to=\"/\" />\r\n            ) : (\r\n              <Redirect to=\"/sign-in\" />\r\n            )}\r\n          </Route>\r\n        </Switch>\r\n\r\n        <Footer />\r\n\r\n         {/* Компоненты попапов  */}\r\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\r\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser}/>\r\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\r\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n        <DeleteCardPopup isOpen={isDeleteCardPopupOpen} onClose={closeAllPopups} onCardDelete={handleCardDelete} />\r\n        <InfoTooltip isOpen={isInfoTooltipPopupOpen} onClose={closeAllPopups} />\r\n\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\n\r\n\r\nexport default App;\r\n\r\n\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter> \n      <App />\n    </BrowserRouter> \n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}
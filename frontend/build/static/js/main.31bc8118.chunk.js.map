{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Сard.js","components/User.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteCardPopup.js","components/Login.js","components/ProtectedRoute.js","components/Register.js","components/InfoTooltip.js","images/error.png","images/successfully.png","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","userEmail","onSignOut","onMenuClick","isMenuClick","loggedIn","userContentClassName","menuClassName","headerClassName","className","path","src","logo","alt","type","onClick","to","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onCardClick","link","name","onCardDeleteClick","onCardLike","length","User","user","avatar","about","Main","onEditAvatar","aria-label","onEditProfile","onAddPlace","activeClassName","exact","cards","map","item","users","Footer","Date","getFullYear","ImagePopup","isOpen","data","onClose","api","options","this","_baseUrl","baseUrl","_headers","headers","res","ok","json","Promise","reject","status","fetch","then","_checkResponse","method","body","JSON","stringify","id","all","getInitialCards","getUserInfo","getUsers","localStorage","jwt","PopupWithForm","title","onSubmit","children","btnText","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","onChange","target","value","placeholder","minLength","maxLength","required","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","defaultValue","AddPlacePopup","nameCard","setNameCard","linkCard","setLinkCard","resetForm","DeleteCardPopup","onCardDelete","Login","onLogin","infoTooltip","email","setEmail","password","setPassword","history","useHistory","message","text","image","push","ProtectedRoute","Component","component","Register","onRegister","console","log","InfoTooltip","BASE_URL","checkResponse","App","setCards","setCurrentUser","setUsers","getAllNeededData","userData","catch","err","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isDeleteCardPopupOpen","setIsDeleteCardPopupOpen","isInfoTooltipPopupOpen","setIsInfoTooltipPopupOpen","selectedCard","setSelectedCard","cardId","setCardId","closeAllPopups","closeByEscape","key","document","addEventListener","removeEventListener","setLoggedIn","setUserEmail","authorize","token","getItem","setIsMenuClick","Provider","removeItem","dislike","newCard","state","c","like","dataCard","setItem","auth","avaLink","setUserAvatar","dataUser","setUserInfo","addCard","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.31bc8118.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import { Link } from \"react-router-dom\";\r\nimport { Route } from 'react-router-dom';\r\nimport logo from '../images/logo.svg';\r\nimport '../index.css';\r\n\r\nfunction Header({ userEmail, onSignOut, onMenuClick, isMenuClick, loggedIn }) {\r\n  // Показать email и кнопку выхода при нажатии на иконку бургера\r\n  const userContentClassName = (\r\n    `header__user-content ${isMenuClick && `header__user-content_active`}`\r\n  );\r\n\r\n  // При нажатии на иконку бургера меняем на иконку закрытия\r\n  const menuClassName = (\r\n    `header__menu ${isMenuClick && `header__menu_close`}`\r\n  );\r\n  \r\n  // в НЕ авторизованном состоянии применяется только класс \"header\" \r\n  // При нажатии на иконку бургера меняем направление флекс-контейнера (поднимаем доп.инфу юзера наверх)\r\n  const headerClassName = (\r\n    `header \r\n    ${isMenuClick && `header_direction_column-reverse`} \r\n    ${loggedIn && !isMenuClick && `header_direction_row`}`\r\n  );\r\n\r\n  return (\r\n    <header className={headerClassName}>\r\n      <Route path=\"/lenta\">\r\n        <div className=\"header__container\">\r\n          <img className=\"header__logo\" src={logo} alt=\"логотип\" />\r\n          <button className={menuClassName} type=\"button\" onClick={onMenuClick} />\r\n        </div>\r\n        \r\n        <div className={userContentClassName}>\r\n          <p className=\"header__email\" >{userEmail}</p>\r\n          <button className=\"header__exit\" type=\"button\" onClick={onSignOut}>Выйти</button>\r\n        </div>\r\n      </Route>\r\n      \r\n      <Route path=\"/sign-in\">\r\n          <img className=\"header__logo\" src={logo} alt=\"логотип\" />\r\n          <Link className=\"header__auth\" to=\"/sign-up\">Регистрация</Link>  \r\n      </Route>\r\n\r\n      <Route path=\"/sign-up\">\r\n        <img className=\"header__logo\" src={logo} alt=\"логотип\" />\r\n        <Link className=\"header__auth\" to=\"/sign-in\">Войти</Link>\r\n      </Route>\r\n\r\n      \r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext()","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport '../index.css'\r\n\r\nfunction Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext)\r\n\r\n  // Определить, являемся ли мы владельцем текущей карточки\r\n  const isOwn = props.card.owner === currentUser._id;\r\n  \r\n  const cardDeleteButtonClassName = (\r\n    `element__delete ${!isOwn && `element__delete_inactive`}`\r\n  ); \r\n\r\n  // Определить, есть ли у карточки лайк, поставленный текущим пользователем\r\n  const isLiked = props.card.likes.some(i => i === currentUser._id);\r\n  const cardLikeButtonClassName = (\r\n    `element__like-button ${isLiked && `element__like-button_active`}`\r\n  ); \r\n\r\n  function handleImageClick() {\r\n    props.onCardClick(props.card);\r\n  } \r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card)\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    props.onCardDeleteClick(props.card._id)\r\n  }\r\n\r\n  return (\r\n    <li className=\"element__item\">\r\n      <img className=\"element__image\" onClick={handleImageClick} src={props.card.link} alt={props.card.name} />\r\n      <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteClick}></button>\r\n      <div className=\"element__figure\">\r\n        <h2 className=\"element__name\">{props.card.name}</h2>\r\n        <div className=\"element__like-wrapper\">\r\n          <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick}></button>\r\n          <span className=\"element__like-count\">{props.card.likes.length}</span>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default Card;","function User(props) {\r\n  return (\r\n    <li className=\"element__user\">\r\n      <div className=\"profile__info profile__info_user-card\">\r\n          <div className=\"profile__avatar-wrapper profile__avatar-wrapper_user-card\">\r\n            <img className=\"profile__avatar profile__avatar_user-card\" src={props.user.avatar} alt=\"аватар\"/>\r\n          </div>\r\n          <div className=\"profile__header profile__header_user-card\">\r\n            <h1 className=\"profile__name profile__name_user-card\">{props.user.name}</h1>\r\n            <p className=\"profile__job\">{props.user.about}</p> \r\n          </div>\r\n      </div> \r\n    </li>\r\n  )\r\n}\r\n\r\nexport default User;","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport '../index.css';\r\nimport Card from './Сard.js';\r\nimport User from './User.js';\r\nimport { Route, NavLink, Switch } from \"react-router-dom\";\r\n\r\nfunction Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext)\r\n\r\n  return (\r\n    <main className=\"content\">\r\n\r\n      <section className=\"profile\">\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__avatar-wrapper\">\r\n            <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"аватар\"/>\r\n            <button type=\"button\" className=\"profile__avatar-edit-button\" onClick={props.onEditAvatar}></button> \r\n          </div>\r\n          <div className=\"profile__info-edit\">  \r\n            <div className=\"profile__header\">\r\n              <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n              <p className=\"profile__job\">{currentUser.about}</p> \r\n            </div>\r\n            <button className=\"profile__edit-button\" type=\"button\" aria-label=\"Edit\" onClick={props.onEditProfile}></button>\r\n          </div>\r\n        </div>\r\n        <button className=\"profile__add-button\" type=\"button\" aria-label=\"add\" onClick={props.onAddPlace}></button>\r\n      </section>\r\n\r\n    <section className=\"user-panel\">\r\n      <div className=\"user-panel__items\">\r\n        <NavLink className=\"user-panel__item\" activeClassName=\"user-panel__item_active\" exact to=\"/lenta\">Лента</NavLink>\r\n        <NavLink className=\"user-panel__item\" activeClassName=\"user-panel__item_active\" to=\"/lenta/my-photos\">Мои фото</NavLink>\r\n        <NavLink className=\"user-panel__item\" activeClassName=\"user-panel__item_active\" to=\"/lenta/users\">Пользователи</NavLink>\r\n      </div>\r\n    </section>\r\n\r\n    <Switch>\r\n      <Route exact path=\"/lenta\">\r\n        <section className=\"elements\">\r\n            <ul className=\"elements__list\">\r\n              {props.cards.map((item) => {\r\n                return (\r\n                  <Card \r\n                    key={item._id} \r\n                    card={item} \r\n                    onCardClick={props.onCardClick} \r\n                    onCardLike={props.onCardLike}\r\n                    onCardDeleteClick={props.onCardDeleteClick}\r\n                  />\r\n                )     \r\n              })}\r\n            </ul>\r\n          </section>\r\n      </Route>\r\n\r\n      <Route path=\"/lenta/my-photos\">\r\n        <section className=\"elements\">\r\n            <ul className=\"elements__list\">\r\n              {props.cards.map((item) => {\r\n                if (item.owner === currentUser._id) {\r\n                  return (\r\n                    <Card \r\n                      key={item._id} \r\n                      card={item} \r\n                      onCardClick={props.onCardClick} \r\n                      onCardLike={props.onCardLike}\r\n                      onCardDeleteClick={props.onCardDeleteClick}\r\n                    />\r\n                  )        \r\n                }    \r\n              })}\r\n            </ul>\r\n          </section>\r\n      </Route>\r\n\r\n      <Route path=\"/lenta/users\">\r\n        <section className=\"elements\">\r\n            <ul className=\"elements__list elements__list_user\">\r\n              {props.users.map((user) => {\r\n                return (\r\n                  <User key={user._id} user={user} />\r\n                )    \r\n              })}\r\n            </ul>\r\n          </section>\r\n      </Route>\r\n    </Switch>\r\n\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__text\">&copy; {new Date().getFullYear()} Mesto Russia</p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer;","function ImagePopup(props) {\r\n  return (\r\n    <section className={`popup popup_type_preview ${props.card.isOpen && `popup_active`}`}>\r\n      <div className=\"popup__preview-container\">\r\n        <img  className=\"popup__image\" src={props.card.data.link} alt={props.card.data.name} />\r\n        <h2 className=\"popup__title-preview\">{props.card.data.name}</h2>\r\n        <button className=\"popup__close\" type=\"button\" aria-label=\"close\" onClick={props.onClose}></button> \r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;","class Api {\r\n  constructor(options) {\r\n    this._baseUrl = options.baseUrl;\r\n    this._headers = options.headers;\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) {\r\n      return res.json()\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`)\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}cards`, {\r\n      headers: this._headers\r\n    }).then(this._checkResponse)\r\n  }\r\n\r\n  getUsers() {\r\n    return fetch(`${this._baseUrl}users`, {\r\n      headers: this._headers\r\n    }).then(this._checkResponse)\r\n  }\r\n\r\n  addCard(data) {\r\n    return fetch(`${this._baseUrl}cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link\r\n      })\r\n    }).then(this._checkResponse)\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._baseUrl}users/me`, {\r\n      headers: this._headers,\r\n    }).then(this._checkResponse)\r\n  }\r\n\r\n  setUserInfo(data) {\r\n    return fetch(`${this._baseUrl}users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about\r\n      })\r\n    }).then(this._checkResponse)\r\n  }\r\n\r\n  setUserAvatar(data) {\r\n    return fetch(`${this._baseUrl}users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({ avatar: data.avatar })\r\n    }).then(this._checkResponse)\r\n  }\r\n\r\n  deleteCard(id) {\r\n    return fetch(`${this._baseUrl}cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    }).then(this._checkResponse)\r\n  }\r\n\r\n  like(id) {\r\n    return fetch(`${this._baseUrl}cards/${id}/likes`, {\r\n      method: 'PUT',\r\n      headers: this._headers\r\n    })\r\n    .then(this._checkResponse)\r\n  }\r\n\r\n  dislike(id) {\r\n    return fetch(`${this._baseUrl}cards/${id}/likes`, {\r\n      method: 'DELETE',\r\n      headers: this._headers\r\n    })\r\n    .then(this._checkResponse)\r\n  }\r\n\r\n  getAllNeededData() {\r\n    return Promise.all([this.getInitialCards(), this.getUserInfo(), this.getUsers()])\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: 'https://api.mesto.adievme.nomoredomains.rocks/',\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n    'Authorization': `Bearer ${localStorage.jwt}`,\r\n  }\r\n}); \r\n\r\nexport default api;","function PopupWithForm(props) {\r\n  return (\r\n    <section className={`popup popup_type_${props.name} ${props.isOpen && `popup_active`}`}>\r\n      <div className=\"popup__container\">\r\n        <h2 className=\"popup__title\">{props.title}</h2>\r\n          <form className=\"popup__form\" onSubmit={props.onSubmit} name={`${props.name}`} >\r\n            {props.children}\r\n            <button className={`popup__button ${props.className}`} type=\"submit\" aria-label=\"save\">{props.btnText}</button>\r\n          </form>\r\n          <button className=\"popup__close\" onClick={props.onClose} type=\"button\" aria-label=\"close\" ></button> \r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;","import React, { useState, useEffect } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const [name, setName] = useState('')\r\n  const [description, setDescription] = useState('')\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value)\r\n  }\r\n\r\n  function handleChangeDescription(e) {\r\n    setDescription(e.target.value)\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser, props.isOpen]); \r\n\r\n  return (\r\n    <PopupWithForm \r\n      isOpen={props.isOpen} \r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n      title=\"Редактировать профиль\" \r\n      name=\"edit-profile\" \r\n      btnText=\"Сохранить\">\r\n        <input className=\"input input_type_popup\" onChange={handleChangeName} value={name || ''} type=\"text\" placeholder=\"Имя\" id=\"input_name\" name=\"name_user\" minLength=\"2\" maxLength=\"40\" required />\r\n        <span className=\"popup__error\" id=\"input_name_error\"></span>\r\n        <input className=\"input input_type_popup\" onChange={handleChangeDescription} value={description || ''} type=\"text\" placeholder=\"О себе\" id=\"input_job\" name=\"info\" minLength=\"2\" maxLength=\"200\" required />\r\n        <span className=\"popup__error\" id=\"input_job_error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;","import React, { useRef } from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const avatarRef = useRef()\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n  \r\n    props.onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n  } \r\n  \r\n  return (\r\n    <PopupWithForm \r\n      isOpen={props.isOpen} \r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit} \r\n      title=\"Обновить аватар\" \r\n      name=\"update-avatar\" \r\n      btnText=\"Сохранить\">\r\n        <input ref={avatarRef} className=\"input input_type_popup\" type=\"url\" placeholder=\"Ссылка на картинку\" defaultValue=\"\" id=\"input_link-avatar\" name=\"link_avatar\" required />\r\n        <span className=\"popup__error\" id=\"input_link-avatar_error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;","import React, { useState } from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup({ onAddPlace, isOpen, onClose }) {\r\n  const [nameCard, setNameCard] = useState('')\r\n  const [linkCard, setLinkCard] = useState('')\r\n\r\n  const resetForm = () => {\r\n    setNameCard('');\r\n    setLinkCard('');\r\n  };\r\n\r\n  function handleChangeNameCard(e) {\r\n    setNameCard(e.target.value)\r\n  }\r\n\r\n  function handleChangeLinkCard(e) {\r\n    setLinkCard(e.target.value)\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    onAddPlace({\r\n      name: nameCard,\r\n      link: linkCard\r\n    }).then(resetForm)\r\n    \r\n  }\r\n\r\n  return (\r\n    <PopupWithForm \r\n      isOpen={isOpen} \r\n      onClose={onClose} \r\n      onSubmit={handleSubmit} \r\n      title=\"Новое место\" \r\n      name=\"add-card\" \r\n      btnText=\"Создать\">\r\n        <input className=\"input input_type_popup\" onChange={handleChangeNameCard} type=\"text\" placeholder=\"Название\" value={nameCard} id=\"input_title\" name=\"name\" minLength=\"2\" required />\r\n        <span className=\"popup__error\" id=\"input_title_error\"></span>\r\n        <input className=\"input input_type_popup\" onChange={handleChangeLinkCard} type=\"url\" placeholder=\"Ссылка на картинку\" value={linkCard} id=\"input_link\" name=\"link\" required />\r\n        <span className=\"popup__error\" id=\"input_link_error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;","import PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction DeleteCardPopup({ onCardDelete, ...props }) {\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onCardDelete(); // при отправки формы вызываем функцию удаления карточки\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm \r\n      isOpen={props.isOpen} \r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n      className=\"popup__button_delete\" \r\n      title=\"Вы уверены?\" \r\n      name=\"delete\" \r\n      btnText=\"Да\" \r\n    />\r\n  );\r\n}\r\n\r\nexport default DeleteCardPopup;","import React, { useState } from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nfunction Login({ onLogin, infoTooltip }) {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const history = useHistory();\r\n\r\n  const resetForm = () => {\r\n    setEmail('');\r\n    setPassword('');\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    onLogin({ email, password })\r\n      .then(res => {\r\n        // Если есть ошибка то открываем попап с ошибкой, иначе авторизуемся\r\n        if (res.message) {\r\n          infoTooltip({\r\n            data: {text: res.message, image: 'error'}, \r\n            isOpen: true\r\n          })\r\n        } else {\r\n          history.push('/')\r\n        }\r\n      })\r\n      .then(resetForm)\r\n  };\r\n\r\n  return (\r\n    <section className=\"auth\">\r\n      <div className=\"auth__container\">\r\n        <h2 className=\"auth__title\">Вход</h2>\r\n        <form className=\"auth__form\" onSubmit={handleSubmit}>\r\n          <input \r\n            className=\"input input_type_auth\" \r\n            type=\"email\" \r\n            placeholder=\"Email\"\r\n            value={email}\r\n            onChange={e => setEmail(e.target.value)}\r\n          />\r\n          <span></span>\r\n          <input \r\n            className=\"input input_type_auth\" \r\n            type=\"password\" \r\n            placeholder=\"Пароль\"\r\n            value={password}\r\n            onChange={e => setPassword(e.target.value)}\r\n          />\r\n          <span></span>\r\n          <button className=\"auth__button\">Войти</button>\r\n        </form>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Login;","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() => \r\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute; ","import React, { useState } from 'react';\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\nfunction Register({ onRegister, infoTooltip }) {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const history = useHistory();\r\n  \r\n  const resetForm = () => {\r\n    setEmail('');\r\n    setPassword('');\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    onRegister({ email, password })\r\n      .then(res => {\r\n        console.log(res)\r\n        if (!res.message) {\r\n          infoTooltip({ \r\n            data: { text: 'Вы успешно зарегистрировались!', image: 'successfully' }, \r\n            isOpen: true\r\n          })\r\n          history.push('/sign-in')\r\n        } else {\r\n          infoTooltip({\r\n            data: { text: res.message, image: 'error'}, \r\n            isOpen: true\r\n          })\r\n        }\r\n      })\r\n      .then(resetForm)\r\n  };\r\n\r\n  return (\r\n    <section className=\"auth\">\r\n      <div className=\"auth__container\">\r\n        <h2 className=\"auth__title\">Регистрация</h2>\r\n        <form className=\"auth__form\" onSubmit={handleSubmit}>\r\n          <input \r\n            className=\"input input_type_auth\" \r\n            type=\"email\" \r\n            placeholder=\"Email\"\r\n            value={email}\r\n            onChange={e => setEmail(e.target.value)}\r\n            />\r\n          <span></span>\r\n          <input \r\n            className=\"input input_type_auth\" \r\n            type=\"password\" \r\n            placeholder=\"Пароль\"\r\n            value={password}\r\n            onChange={e => setPassword(e.target.value)}\r\n          />\r\n          <span></span>\r\n          <button className=\"auth__button\" type=\"submit\">Зарегистрироваться</button>\r\n        </form>\r\n          <p className=\"auth__caption\">Уже зарегистрированы? <Link className=\"auth__link\" to=\"/sign-in\">Войти</Link></p>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Register;","import successfully from '../images/successfully.png';\r\nimport error from '../images/error.png';\r\n\r\nfunction InfoTooltip({ isOpen, onClose }) {\r\n  return (\r\n    <section className={`popup popup_type_info-tooltip ${isOpen.isOpen && `popup_active`}`}>\r\n      <div className=\"popup__container popup__container_padding\">\r\n        <button className=\"popup__close\" onClick={onClose} type=\"button\" aria-label=\"close\"></button>\r\n        <img className=\"popup__image-tooltip\" src={isOpen.data.image === 'error' ? error : successfully} alt={isOpen.data.image} />\r\n        <h2 className=\"popup__title popup__title_center\">{isOpen.data.text}</h2>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export const BASE_URL = 'https://api.mesto.adievme.nomoredomains.rocks';\r\n\r\nconst checkResponse = (res) => {\r\n  // для ошибок 400 или 401 тоже возвращаем json для показа попапа с ошибкой \r\n  if (res.ok || (res.status === 400 || 401)) {\r\n    return res.json()\r\n  } \r\n  return Promise.reject(`Ошибка: ${res.status}`)\r\n}\r\n\r\nexport const register = (email, password) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({email, password})\r\n  })\r\n  .then(checkResponse)\r\n  .then(res => res)\r\n};\r\n\r\nexport const authorize = (email, password) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ email, password })\r\n  })\r\n  .then(checkResponse)\r\n  .then((data) => { \r\n    if (data){\r\n      localStorage.setItem('jwt', data.jwt);\r\n      return data;\r\n    } else {\r\n      return;\r\n    }\r\n  })\r\n  .catch(err => console.log(err))\r\n};\r\n\r\nexport const getContent = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`,\r\n    }\r\n  })\r\n  .then(checkResponse)\r\n  .then(data => data)\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport ImagePopup from './ImagePopup';\r\nimport api from '../utils/api';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport DeleteCardPopup from './DeleteCardPopup';\r\nimport Login from './Login';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport Register from './Register';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport * as auth from '../utils/auth';\r\nimport '../index.css';\r\n\r\nfunction App() {\r\n  const [cards, setCards] = useState([])\r\n  const [currentUser, setCurrentUser] = useState({})\r\n  const [users, setUsers] = useState([])\r\n\r\n  function handleRequestAllData() {\r\n    api.getAllNeededData() // возвращает результат исполнения нужных промисов (карточки и информации пользователя)\r\n      .then(([cards, userData, users]) => {\r\n        setCurrentUser(userData)\r\n        setCards(cards)\r\n        setUsers(users)\r\n      })\r\n      .catch((err) => console.log(err))\r\n  }\r\n\r\n  useEffect(() => {\r\n    handleRequestAllData()\r\n  }, [])\r\n\r\n  function handleCardLike(card) {\r\n    // Проверяем, есть ли уже лайк на этой карточке\r\n    const isLiked = card.likes.some(i => i === currentUser._id);\r\n\r\n    if (!isLiked) {\r\n      api.like(card._id)\r\n        .then((newCard) => {\r\n          setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n        })\r\n        .catch(err => console.log(err));\r\n    } else {\r\n      api.dislike(card._id)\r\n        .then((newCard) => {\r\n          setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n        })\r\n        .catch(err => console.log(err));\r\n    }\r\n  } \r\n\r\n  function handleUpdateUser(dataUser) {\r\n    api.setUserInfo(dataUser)\r\n      .then((res) => {\r\n        setCurrentUser(res)\r\n        closeAllPopups()\r\n      })\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\n  function handleUpdateAvatar(avaLink) {\r\n    api.setUserAvatar(avaLink)\r\n      .then((res) => {\r\n        setCurrentUser(res)\r\n        closeAllPopups()\r\n      })\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\n  function handleAddPlaceSubmit(dataCard) {\r\n    return api.addCard(dataCard)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards])\r\n        closeAllPopups()\r\n      })\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\n  // Стейты открытия попапов\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isDeleteCardPopupOpen, setIsDeleteCardPopupOpen] = useState(false);\r\n  // Стейт попапа регистрации\r\n  const [isInfoTooltipPopupOpen, setIsInfoTooltipPopupOpen] = useState({ data: {}, isOpen: false });\r\n  // Стейт попапа с картинкой\r\n  const [selectedCard, setSelectedCard] = useState({ data: {}, isOpen: false })\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true)\r\n  }\r\n  \r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true)\r\n  }\r\n  \r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true)\r\n  }\r\n\r\n  function handleCardClick(dataCard) {\r\n    setSelectedCard({ data: dataCard, isOpen: true})\r\n  }\r\n  \r\n  const [cardId, setCardId] = useState('')\r\n  \r\n  // Открыть попап удаления карточки и обновить стейт id карточки, которая передается при клике на иконку удаления\r\n  function handleDeleteCardClick(cardId) {\r\n    setIsDeleteCardPopupOpen(true)\r\n    setCardId(cardId) \r\n  }\r\n\r\n  function handleCardDelete() {\r\n    api.deleteCard(cardId)\r\n      .then(() => {\r\n        setCards(state => state.filter((card) => card._id !== cardId))\r\n        closeAllPopups()\r\n      })\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditAvatarPopupOpen(false)\r\n    setIsEditProfilePopupOpen(false)\r\n    setIsAddPlacePopupOpen(false)\r\n    setIsDeleteCardPopupOpen(false)\r\n\r\n    setIsInfoTooltipPopupOpen({ data: {}, isOpen: false })\r\n\r\n    setSelectedCard({ data: {}, isOpen: false })\r\n  }\r\n\r\n  useEffect(() => {\r\n    const closeByEscape = (e) => {\r\n      if (e.key === 'Escape') {\r\n        closeAllPopups();\r\n      }\r\n    }\r\n\r\n    document.addEventListener('keydown', closeByEscape)\r\n    \r\n    return () => document.removeEventListener('keydown', closeByEscape)\r\n  }, [])\r\n\r\n  // Стейт авторизации пользователя\r\n  const [loggedIn, setLoggedIn] = useState(false)\r\n  const [userEmail, setUserEmail] = useState('')\r\n\r\n  const history = useHistory();\r\n\r\n  const authorize = (jwt) => {\r\n    return auth.getContent(jwt)\r\n      .then((res) => {\r\n        if (res) {\r\n          setLoggedIn(true);\r\n          setUserEmail(res.email);\r\n          \r\n          history.push('/')\r\n        }\r\n      })\r\n      .catch(err => console.log(err));\r\n  };\r\n\r\n  useEffect(() => {\r\n    const jwt = localStorage.getItem('jwt');\r\n    if (jwt) {\r\n      authorize(jwt);\r\n    }\r\n  }, []);\r\n  \r\n  const onLogin = ({ email, password }) => {\r\n    return auth.authorize(email, password)\r\n      .then((res) => {\r\n        // Если токен валидный, то сохраняем его в localStorage, вызываем ф-ю authorize для получения email и выполняем вход\r\n        if (res.token) {\r\n          localStorage.setItem('jwt', res.token);\r\n          authorize(res.token)\r\n          setLoggedIn(true);\r\n\r\n          history.push('/')\r\n\r\n          return res\r\n        } else {\r\n          return res\r\n        }\r\n      })\r\n      .catch(err => console.log(err));\r\n  };\r\n\r\n  const onRegister = ({ email, password }) => {\r\n    return auth.register(email, password)\r\n      .then(res => res)\r\n      .catch(err => console.log(err));\r\n  };\r\n\r\n  // при нажатии на \"выйти\" удаляем токен из localStorage\r\n  function onSignOut() {\r\n    localStorage.removeItem('jwt')\r\n\r\n    setLoggedIn(false)\r\n    setUserEmail('')\r\n    setIsMenuClick(false)\r\n\r\n    history.push('/sign-in')\r\n  }\r\n\r\n  const [isMenuClick, setIsMenuClick] = useState(false)\r\n\r\n  function onMenuClick() {\r\n    !isMenuClick ? setIsMenuClick(true) : setIsMenuClick(false)\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n\r\n        <Header \r\n          userEmail={userEmail} \r\n          onSignOut={onSignOut} \r\n          onMenuClick={onMenuClick} \r\n          isMenuClick={isMenuClick} \r\n          loggedIn={loggedIn}\r\n        />\r\n        \r\n        <Switch>\r\n          <ProtectedRoute \r\n            path=\"/lenta\"\r\n            cards={cards}\r\n            users={users}\r\n            component={Main}\r\n            loggedIn={loggedIn}\r\n            onCardLike={handleCardLike}\r\n            onCardClick={handleCardClick}\r\n            onAddPlace={handleAddPlaceClick} \r\n            onEditAvatar={handleEditAvatarClick} \r\n            onEditProfile={handleEditProfileClick} \r\n            onCardDeleteClick={handleDeleteCardClick}\r\n             \r\n          />\r\n\r\n          <Route path=\"/sign-in\">\r\n            <Login onLogin={onLogin} infoTooltip={setIsInfoTooltipPopupOpen} />\r\n          </Route>\r\n\r\n          <Route path=\"/sign-up\">\r\n            <Register onRegister={onRegister} infoTooltip={setIsInfoTooltipPopupOpen}/>\r\n          </Route>\r\n\r\n          <Route>\r\n            {loggedIn ? (\r\n              <Redirect to=\"/lenta\" />\r\n            ) : (\r\n              <Redirect to=\"/sign-in\" />\r\n            )}\r\n          </Route>\r\n        </Switch>\r\n\r\n        <Footer />\r\n\r\n         {/* Компоненты попапов  */}\r\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\r\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser}/>\r\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\r\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n        <DeleteCardPopup isOpen={isDeleteCardPopupOpen} onClose={closeAllPopups} onCardDelete={handleCardDelete} />\r\n        <InfoTooltip isOpen={isInfoTooltipPopupOpen} onClose={closeAllPopups} />\r\n\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\n\r\n\r\nexport default App;\r\n\r\n\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter> \n      <App />\n    </BrowserRouter> \n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}
(this["webpackJsonpmesto-react"]=this["webpackJsonpmesto-react"]||[]).push([[0],{10:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(19),i=n.n(s),o=n(8),r=(n(10),n(24)),u=n(2),l=n(3),p=n.p+"static/media/logo.03b78ada.svg",j=n(0);var d=function(e){var t=e.userEmail,n=e.onSignOut,a=e.onMenuClick,c=e.isMenuClick,s=e.loggedIn,i="header__user-content ".concat(c&&"header__user-content_active"),r="header__menu ".concat(c&&"header__menu_close"),u="header \n    ".concat(c&&"header_direction_column-reverse"," \n    ").concat(s&&!c&&"header_direction_row");return Object(j.jsxs)("header",{className:u,children:[Object(j.jsxs)(l.b,{exact:!0,path:"/",children:[Object(j.jsxs)("div",{className:"header__container",children:[Object(j.jsx)("img",{className:"header__logo",src:p,alt:"\u043b\u043e\u0433\u043e\u0442\u0438\u043f"}),Object(j.jsx)("button",{className:r,type:"button",onClick:a})]}),Object(j.jsxs)("div",{className:i,children:[Object(j.jsx)("p",{className:"header__email",children:t}),Object(j.jsx)("button",{className:"header__exit",type:"button",onClick:n,children:"\u0412\u044b\u0439\u0442\u0438"})]})]}),Object(j.jsxs)(l.b,{path:"/sign-in",children:[Object(j.jsx)("img",{className:"header__logo",src:p,alt:"\u043b\u043e\u0433\u043e\u0442\u0438\u043f"}),Object(j.jsx)(o.b,{className:"header__auth",to:"/sign-up",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]}),Object(j.jsxs)(l.b,{path:"/sign-up",children:[Object(j.jsx)("img",{className:"header__logo",src:p,alt:"\u043b\u043e\u0433\u043e\u0442\u0438\u043f"}),Object(j.jsx)(o.b,{className:"header__auth",to:"/sign-in",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})},h=c.a.createContext();var b=function(e){var t=c.a.useContext(h),n=e.card.owner._id===t._id,a="element__delete ".concat(!n&&"element__delete_inactive"),s=e.card.likes.some((function(e){return e._id===t._id})),i="element__like-button ".concat(s&&"element__like-button_active");return Object(j.jsxs)("li",{className:"element__item",children:[Object(j.jsx)("img",{className:"element__image",onClick:function(){e.onCardClick(e.card)},src:e.card.link,alt:e.card.name}),Object(j.jsx)("button",{className:a,type:"button",onClick:function(){e.onCardDeleteClick(e.card._id)}}),Object(j.jsxs)("div",{className:"element__figure",children:[Object(j.jsx)("h2",{className:"element__name",children:e.card.name}),Object(j.jsxs)("div",{className:"element__like-wrapper",children:[Object(j.jsx)("button",{className:i,type:"button",onClick:function(){e.onCardLike(e.card)}}),Object(j.jsx)("span",{className:"element__like-count",children:e.card.likes.length})]})]})]})};var m=function(e){var t=c.a.useContext(h);return Object(j.jsxs)("main",{className:"content",children:[Object(j.jsxs)("section",{className:"profile",children:[Object(j.jsxs)("div",{className:"profile__info",children:[Object(j.jsxs)("div",{className:"profile__avatar-wrapper",children:[Object(j.jsx)("img",{className:"profile__avatar",src:t.avatar,alt:"\u0430\u0432\u0430\u0442\u0430\u0440"}),Object(j.jsx)("button",{type:"button",className:"profile__avatar-edit-button",onClick:e.onEditAvatar})]}),Object(j.jsxs)("div",{className:"profile__info-edit",children:[Object(j.jsxs)("div",{className:"profile__header",children:[Object(j.jsx)("h1",{className:"profile__name",children:t.name}),Object(j.jsx)("p",{className:"profile__job",children:t.about})]}),Object(j.jsx)("button",{className:"profile__edit-button",type:"button","aria-label":"Edit",onClick:e.onEditProfile})]})]}),Object(j.jsx)("button",{className:"profile__add-button",type:"button","aria-label":"add",onClick:e.onAddPlace})]}),Object(j.jsx)("section",{className:"elements",children:Object(j.jsx)("ul",{className:"elements__list",children:e.cards.map((function(t){return Object(j.jsx)(b,{card:t,onCardClick:e.onCardClick,onCardLike:e.onCardLike,onCardDeleteClick:e.onCardDeleteClick},t._id)}))})})]})};var O=function(){return Object(j.jsx)("footer",{className:"footer",children:Object(j.jsxs)("p",{className:"footer__text",children:["\xa9 ",(new Date).getFullYear()," Mesto Russia"]})})};var f=function(e){return Object(j.jsx)("section",{className:"popup popup_type_preview ".concat(e.card.isOpen&&"popup_active"),children:Object(j.jsxs)("div",{className:"popup__preview-container",children:[Object(j.jsx)("img",{className:"popup__image",src:e.card.data.link,alt:e.card.data.name}),Object(j.jsx)("h2",{className:"popup__title-preview",children:e.card.data.name}),Object(j.jsx)("button",{className:"popup__close",type:"button","aria-label":"close",onClick:e.onClose})]})})},x=n(22),v=n(23),g=new(function(){function e(t){Object(x.a)(this,e),this._baseUrl=t.baseUrl,this._headers=t.headers}return Object(v.a)(e,[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}},{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"cards"),{headers:this._headers}).then(this._checkResponse)}},{key:"addCard",value:function(e){return fetch("".concat(this._baseUrl,"cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})}).then(this._checkResponse)}},{key:"getUserInfo",value:function(){return fetch("".concat(this._baseUrl,"users/me"),{headers:this._headers}).then(this._checkResponse)}},{key:"setUserInfo",value:function(e){return fetch("".concat(this._baseUrl,"users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})}).then(this._checkResponse)}},{key:"setUserAvatar",value:function(e){return fetch("".concat(this._baseUrl,"users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.avatar})}).then(this._checkResponse)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._baseUrl,"cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}},{key:"like",value:function(e){return fetch("".concat(this._baseUrl,"cards/likes/").concat(e),{method:"PUT",headers:this._headers}).then(this._checkResponse)}},{key:"dislike",value:function(e){return fetch("".concat(this._baseUrl,"cards/likes/").concat(e),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}},{key:"getAllNeededData",value:function(){return Promise.all([this.getInitialCards(),this.getUserInfo()])}}]),e}())({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-23/",headers:{authorization:"84fbe532-8273-42b1-9e94-975939efca47","Content-Type":"application/json"}});var _=function(e){return Object(j.jsx)("section",{className:"popup popup_type_".concat(e.name," ").concat(e.isOpen&&"popup_active"),children:Object(j.jsxs)("div",{className:"popup__container",children:[Object(j.jsx)("h2",{className:"popup__title",children:e.title}),Object(j.jsxs)("form",{className:"popup__form",onSubmit:e.onSubmit,name:"".concat(e.name),children:[e.children,Object(j.jsx)("button",{className:"popup__button ".concat(e.className),type:"submit","aria-label":"save",children:e.btnText})]}),Object(j.jsx)("button",{className:"popup__close",onClick:e.onClose,type:"button","aria-label":"close"})]})})};var C=function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),s=n[0],i=n[1],o=Object(a.useState)(""),r=Object(u.a)(o,2),l=r[0],p=r[1],d=c.a.useContext(h);return Object(a.useEffect)((function(){i(d.name),p(d.about)}),[d,e.isOpen]),Object(j.jsxs)(_,{isOpen:e.isOpen,onClose:e.onClose,onSubmit:function(t){t.preventDefault(),e.onUpdateUser({name:s,about:l})},title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",name:"edit-profile",btnText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",children:[Object(j.jsx)("input",{className:"input input_type_popup",onChange:function(e){i(e.target.value)},value:s||"",type:"text",placeholder:"\u0418\u043c\u044f",id:"input_name",name:"name_user",minLength:"2",maxLength:"40",required:!0}),Object(j.jsx)("span",{className:"popup__error",id:"input_name_error"}),Object(j.jsx)("input",{className:"input input_type_popup",onChange:function(e){p(e.target.value)},value:l||"",type:"text",placeholder:"\u041e \u0441\u0435\u0431\u0435",id:"input_job",name:"info",minLength:"2",maxLength:"200",required:!0}),Object(j.jsx)("span",{className:"popup__error",id:"input_job_error"})]})};var A=function(e){var t=Object(a.useRef)();return Object(j.jsxs)(_,{isOpen:e.isOpen,onClose:e.onClose,onSubmit:function(n){n.preventDefault(),e.onUpdateAvatar({avatar:t.current.value})},title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",name:"update-avatar",btnText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",children:[Object(j.jsx)("input",{ref:t,className:"input input_type_popup",type:"url",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",defaultValue:"",id:"input_link-avatar",name:"link_avatar",required:!0}),Object(j.jsx)("span",{className:"popup__error",id:"input_link-avatar_error"})]})};var N=function(e){var t=e.onAddPlace,n=e.isOpen,c=e.onClose,s=Object(a.useState)(""),i=Object(u.a)(s,2),o=i[0],r=i[1],l=Object(a.useState)(""),p=Object(u.a)(l,2),d=p[0],h=p[1],b=function(){r(""),h("")};return Object(j.jsxs)(_,{isOpen:n,onClose:c,onSubmit:function(e){e.preventDefault(),t({name:o,link:d}).then(b)},title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",name:"add-card",btnText:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",children:[Object(j.jsx)("input",{className:"input input_type_popup",onChange:function(e){r(e.target.value)},type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",value:o,id:"input_title",name:"name",minLength:"2",required:!0}),Object(j.jsx)("span",{className:"popup__error",id:"input_title_error"}),Object(j.jsx)("input",{className:"input input_type_popup",onChange:function(e){h(e.target.value)},type:"url",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",value:d,id:"input_link",name:"link",required:!0}),Object(j.jsx)("span",{className:"popup__error",id:"input_link_error"})]})},k=n(14),y=["onCardDelete"];var w=function(e){var t=e.onCardDelete,n=Object(k.a)(e,y);return Object(j.jsx)(_,{isOpen:n.isOpen,onClose:n.onClose,onSubmit:function(e){e.preventDefault(),t()},className:"popup__button_delete",title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",name:"delete",btnText:"\u0414\u0430"})};var S=function(e){var t=e.onLogin,n=e.infoTooltip,c=Object(a.useState)(""),s=Object(u.a)(c,2),i=s[0],o=s[1],r=Object(a.useState)(""),p=Object(u.a)(r,2),d=p[0],h=p[1],b=Object(l.g)(),m=function(){o(""),h("")};return Object(j.jsx)("section",{className:"auth",children:Object(j.jsxs)("div",{className:"auth__container",children:[Object(j.jsx)("h2",{className:"auth__title",children:"\u0412\u0445\u043e\u0434"}),Object(j.jsxs)("form",{className:"auth__form",onSubmit:function(e){e.preventDefault(),t({email:i,password:d}).then((function(e){e.message?n({data:{text:e.message,image:"error"},isOpen:!0}):b.push("/")})).then(m)},children:[Object(j.jsx)("input",{className:"input input_type_auth",type:"email",placeholder:"Email",value:i,onChange:function(e){return o(e.target.value)}}),Object(j.jsx)("span",{}),Object(j.jsx)("input",{className:"input input_type_auth",type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",value:d,onChange:function(e){return h(e.target.value)}}),Object(j.jsx)("span",{}),Object(j.jsx)("button",{className:"auth__button",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})},E=n(25),R=["component"],W=function(e){var t=e.component,n=Object(k.a)(e,R);return Object(j.jsx)(l.b,{children:function(){return n.loggedIn?Object(j.jsx)(t,Object(E.a)({},n)):Object(j.jsx)(l.a,{to:"/sign-in"})}})};var I=function(e){var t=e.onRegister,n=e.infoTooltip,c=Object(a.useState)(""),s=Object(u.a)(c,2),i=s[0],r=s[1],p=Object(a.useState)(""),d=Object(u.a)(p,2),h=d[0],b=d[1],m=Object(l.g)(),O=function(){r(""),b("")};return Object(j.jsx)("section",{className:"auth",children:Object(j.jsxs)("div",{className:"auth__container",children:[Object(j.jsx)("h2",{className:"auth__title",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(j.jsxs)("form",{className:"auth__form",onSubmit:function(e){e.preventDefault(),t({email:i,password:h}).then((function(e){e.error?n({data:{text:e.error,image:"error"},isOpen:!0}):(n({data:{text:"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c!",image:"successfully"},isOpen:!0}),m.push("/sign-in"))})).then(O)},children:[Object(j.jsx)("input",{className:"input input_type_auth",type:"email",placeholder:"Email",value:i,onChange:function(e){return r(e.target.value)}}),Object(j.jsx)("span",{}),Object(j.jsx)("input",{className:"input input_type_auth",type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",value:h,onChange:function(e){return b(e.target.value)}}),Object(j.jsx)("span",{}),Object(j.jsx)("button",{className:"auth__button",type:"submit",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(j.jsxs)("p",{className:"auth__caption",children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? ",Object(j.jsx)(o.b,{className:"auth__link",to:"/sign-in",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})};var J=function(e){var t=e.isOpen,n=e.onClose;return Object(j.jsx)("section",{className:"popup popup_type_info-tooltip ".concat(t.isOpen&&"popup_active"),children:Object(j.jsxs)("div",{className:"popup__container popup__container_padding",children:[Object(j.jsx)("button",{className:"popup__close",onClick:n,type:"button","aria-label":"close"}),Object(j.jsx)("img",{className:"popup__image-tooltip",src:"error"===t.data.image?"data:image/png;base64,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":"data:image/png;base64,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",alt:t.data.image}),Object(j.jsx)("h2",{className:"popup__title popup__title_center",children:t.data.text})]})})},U="https://auth.nomoreparties.co",V=function(e){return e.ok||e.status,e.json()};var L=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)({}),i=Object(u.a)(s,2),o=i[0],p=i[1];Object(a.useEffect)((function(){g.getAllNeededData().then((function(e){var t=Object(u.a)(e,2),n=t[0],a=t[1];p(a),c(n)})).catch((function(e){return console.log(e)}))}),[]);var b=Object(a.useState)(!1),x=Object(u.a)(b,2),v=x[0],_=x[1],k=Object(a.useState)(!1),y=Object(u.a)(k,2),E=y[0],R=y[1],L=Object(a.useState)(!1),T=Object(u.a)(L,2),H=T[0],B=T[1],z=Object(a.useState)(!1),D=Object(u.a)(z,2),P=D[0],Z=D[1],Q=Object(a.useState)({data:{},isOpen:!1}),K=Object(u.a)(Q,2),X=K[0],G=K[1],q=Object(a.useState)({data:{},isOpen:!1}),F=Object(u.a)(q,2),Y=F[0],M=F[1],$=Object(a.useState)(""),ee=Object(u.a)($,2),te=ee[0],ne=ee[1];function ae(){_(!1),R(!1),B(!1),Z(!1),G({data:{},isOpen:!1}),M({data:{},isOpen:!1})}Object(a.useEffect)((function(){var e=function(e){"Escape"===e.key&&ae()};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[]);var ce=Object(a.useState)(!1),se=Object(u.a)(ce,2),ie=se[0],oe=se[1],re=Object(a.useState)(""),ue=Object(u.a)(re,2),le=ue[0],pe=ue[1],je=Object(l.g)(),de=function(e){return(t=e,fetch("".concat(U,"/users/me"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then(V).then((function(e){return e}))).then((function(e){e.data&&(oe(!0),pe(e.data.email),je.push("/"))})).catch((function(e){return console.log(e)}));var t};Object(a.useEffect)((function(){var e=localStorage.getItem("jwt");e&&de(e)}),[]);var he=Object(a.useState)(!1),be=Object(u.a)(he,2),me=be[0],Oe=be[1];return Object(j.jsx)(h.Provider,{value:o,children:Object(j.jsxs)("div",{className:"page",children:[Object(j.jsx)(d,{userEmail:le,onSignOut:function(){localStorage.removeItem("jwt"),oe(!1),pe(""),Oe(!1),je.push("/sign-in")},onMenuClick:function(){Oe(!me)},isMenuClick:me,loggedIn:ie}),Object(j.jsxs)(l.d,{children:[Object(j.jsx)(W,{cards:n,exact:!0,path:"/",component:m,loggedIn:ie,onCardLike:function(e){e.likes.some((function(e){return e._id===o._id}))?g.dislike(e._id).then((function(t){c((function(n){return n.map((function(n){return n._id===e._id?t:n}))}))})).catch((function(e){return console.log(e)})):g.like(e._id).then((function(t){c((function(n){return n.map((function(n){return n._id===e._id?t:n}))}))})).catch((function(e){return console.log(e)}))},onCardClick:function(e){M({data:e,isOpen:!0})},onAddPlace:function(){B(!0)},onEditAvatar:function(){_(!0)},onEditProfile:function(){R(!0)},onCardDeleteClick:function(e){Z(!0),ne(e)}}),Object(j.jsx)(l.b,{path:"/sign-in",children:Object(j.jsx)(S,{onLogin:function(e){return function(e,t){return fetch("".concat(U,"/signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then(V).then((function(e){return e?(localStorage.setItem("jwt",e.jwt),e):void 0})).catch((function(e){return console.log(e)}))}(e.email,e.password).then((function(e){return e.token?(localStorage.setItem("jwt",e.token),de(e.token),oe(!0),je.push("/"),e):e})).catch((function(e){return console.log(e)}))},infoTooltip:G})}),Object(j.jsx)(l.b,{path:"/sign-up",children:Object(j.jsx)(I,{onRegister:function(e){return function(e,t){return fetch("".concat(U,"/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then(V).then((function(e){return e}))}(e.email,e.password).then((function(e){return e})).catch((function(e){return console.log(e)}))},infoTooltip:G})}),Object(j.jsx)(l.b,{children:ie?Object(j.jsx)(l.a,{to:"/"}):Object(j.jsx)(l.a,{to:"/sign-in"})})]}),Object(j.jsx)(O,{}),Object(j.jsx)(A,{isOpen:v,onClose:ae,onUpdateAvatar:function(e){g.setUserAvatar(e).then((function(e){p(e),ae()})).catch((function(e){return console.log(e)}))}}),Object(j.jsx)(C,{isOpen:E,onClose:ae,onUpdateUser:function(e){g.setUserInfo(e).then((function(e){p(e),ae()})).catch((function(e){return console.log(e)}))}}),Object(j.jsx)(N,{isOpen:H,onClose:ae,onAddPlace:function(e){return g.addCard(e).then((function(e){c([e].concat(Object(r.a)(n))),ae()})).catch((function(e){return console.log(e)}))}}),Object(j.jsx)(f,{card:Y,onClose:ae}),Object(j.jsx)(w,{isOpen:P,onClose:ae,onCardDelete:function(){g.deleteCard(te).then((function(){c((function(e){return e.filter((function(e){return e._id!==te}))})),ae()})).catch((function(e){return console.log(e)}))}}),Object(j.jsx)(J,{isOpen:X,onClose:ae})]})})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,37)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))};i.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(o.a,{children:Object(j.jsx)(L,{})})}),document.getElementById("root")),T()}},[[36,1,2]]]);
//# sourceMappingURL=main.48582cf0.chunk.js.map